var e=(e,t,a)=>new Promise(((r,l)=>{var i=e=>{try{u(a.next(e))}catch(t){l(t)}},s=e=>{try{u(a.throw(e))}catch(t){l(t)}},u=e=>e.done?r(e.value):Promise.resolve(e.value).then(i,s);u((a=a.apply(e,t)).next())}));import{i as t}from"./text-fcb9c76a.js";import{_ as a,a as r,o as l,b as i,d as s,u,e as n,R as o,s as d,S as v,p as c,f,n as p,t as w,U as h,Q as m,V as g,W as y}from"./all-f2977786.js";const _={class:"input-group",ref:"inputGroup"},b={class:"code-box"},k={class:"code-click"},x=["src"],q=[(e=>(c("data-v-b032d12d"),e=e(),f(),e))((()=>n("p",null,"点击刷新",-1)))],E=a({__name:"imageCode",props:{title:{type:String,default:"验证码",required:!1},disabled:{type:Boolean,required:!1,default:!1}},setup(a,{expose:c}){const f=a;let p=r(""),w=r(""),h=r(null);function m(){o().then((e=>{w.value=e}),(e=>{}))}function g(e){p.value=e.target.value}return m(),c({check:function(){return e(this,null,(function*(){if(-1==h.value.wrong)throw void d("请填写图片验证码");if(0!=h.value.wrong)throw void d(h.value.reminder[h.value.wrong-1]);if(!(yield v(p.value)))throw void 0}))},refresh:m}),(e,a)=>(l(),i("div",_,[s(t,{value:u(p),"onUpdate:value":g,title:u(f).title,reminder:["图片验证码应是四位字母/数字"],tester:e=>/^[a-z0-9]{4}$/.test(e)?0:1,ref_key:"inputer",ref:h},null,8,["value","title","tester"]),n("div",b,[n("div",k,[n("img",{class:"img",src:u(w)},null,8,x),n("div",{class:"refresh",onClick:m},q)])])],512))}},[["__scopeId","data-v-b032d12d"]]),C={class:"input-group",ref:"inputGroup"},M={class:"code-box"},N={class:"code-click"},S=a({__name:"emailCode",props:{title:{type:String,default:"验证码",required:!1},disabled:{type:Boolean,required:!1,default:!1},useNewEmail:{type:Boolean,default:!1,required:!1},newEmail:{type:String,default:"",required:!1}},setup(a,{expose:o}){const d=a;let v=r(""),c=r(0),f=r(null);function _(e){e<0?c.value=0:(c.value=e,setTimeout(_,1e3,e-1))}function b(){h().then((()=>{_(60)}),(e=>{}))}function k(e){v.value=e.target.value}return d.useNewEmail?_(60):b(),o({check:function(){return d.useNewEmail?function(){return e(this,null,(function*(){if(-1==f.value.wrong)throw void showMessage("请填写邮箱验证码");if(0!=f.value.wrong)throw void showMessage(f.value.reminder[f.value.wrong-1]);if(!(yield y(v.value)))throw void 0}))}():function(){return e(this,null,(function*(){if(-1==f.value.wrong)throw void showMessage("请填写邮箱验证码");if(0!=f.value.wrong)throw void showMessage(f.value.reminder[f.value.wrong-1]);if(!(yield g(v.value)))throw void 0}))}()},refresh:function(){return d.useNewEmail?void m(d.newEmail).then((()=>{_(60)}),(e=>{})):b()}}),(e,a)=>(l(),i("div",C,[s(t,{value:u(v),"onUpdate:value":k,title:u(d).title,reminder:["图片验证码应是6位数字"],tester:e=>/^[0-9]{6}$/.test(e)?0:1,ref_key:"inputer",ref:f},null,8,["value","title","tester"]),n("div",M,[n("div",N,[n("div",{class:p(["refresh",{disabled:u(c)>0}]),onClick:b},[n("p",null,w(u(c)>0?`${u(c)}s`:"重新发送"),1)],2)])])],512))}},[["__scopeId","data-v-23196780"]]);export{S as a,E as i};
