import{_ as e,r as t,o as a,G as l,a as r,b as u,d as s,t as n,u as i,g as o,w as p,T as d,m as v,v as c,k as m,p as f,j as g,D as y,H as h,q as _,F as b,z as S,E as x,l as A}from"./all-d17ae10d.js";import{m as w,g as I}from"./header-ccd47c63.js";import{i as U,a as k}from"./button-54ebb12b.js";import{m as q}from"./selecter-20159a86.js";const D={class:"input-group"},F={class:"reminder"},$=(e=>(f("data-v-49f78584"),e=e(),g(),e))((()=>s("span",{class:"demo-icon"},"",-1))),j=e({__name:"sex",props:{title:{type:String,required:!1,default:"日期"},value:{type:String,required:!0,default:"保密"},tester:{type:Function,default:()=>!0,required:!1},reminder:{type:Array,default:["内容格式不正确"],required:!1}},emits:["update:value"],setup(e,{emit:f}){const g=e;let y=t(0);let h=t(null),_=t(null);return a((()=>{l((()=>{g.title,h.value.style.setProperty("--title-width",`${_.value.clientWidth}px`)}))})),(e,t)=>(r(),u("div",{class:"main-box",ref_key:"inputGroup",ref:h},[s("div",D,[s("p",{class:"title",ref_key:"title",ref:_},n(i(g).title),513),o(q,{"onUpdate:choice":t[0]||(t[0]=e=>{return t=e,y.value=g.tester(t),void f("update:value",t);var t}),class:"selecter",values:["保密","男","女","其他"],choice:i(g).value},null,8,["choice"])]),o(d,{name:"reminder"},{default:p((()=>[v(s("p",F,[$,m(n(i(g).reminder[i(y)-1]),1)],512),[[c,0!=i(y)]])])),_:1})],512))}},[["__scopeId","data-v-49f78584"]]),z=e=>(f("data-v-1dc51ba5"),e=e(),g(),e),Y={class:"input-group"},G=z((()=>s("p",null,"年",-1))),M=z((()=>s("p",null,"月",-1))),P=z((()=>s("p",null,"日",-1))),W={class:"reminder"},Z=z((()=>s("span",{class:"demo-icon"},"",-1))),C=e({__name:"date",props:{title:{type:String,required:!1,default:"日期"},value:{type:Date,required:!0,default:new Date(2e3,1,1)},tester:{type:Function,default:()=>!0,required:!1},reminder:{type:Array,default:["内容格式不正确"],required:!1}},emits:["update:date"],setup(e,{emit:f}){const g=e;let h=t(0);function _(e,t){let a=new Date(g.value);"year"===e&&a.setFullYear(parseInt(t,10)),"mounth"===e&&a.setMonth(parseInt(t,10)-1),"date"===e&&a.setDate(parseInt(t,10)),h.value=g.tester(a),f("update:date",a)}let b=t(null),S=t(null);a((()=>{l((()=>{g.title,b.value.style.setProperty("--title-width",`${S.value.clientWidth}px`)}))}));let x=y((()=>{let e=g.value.getMonth()+1;return 2==e?g.value.getFullYear()%4==0&&g.value.getFullYear()%100!=0||g.value.getFullYear()%400==0?Array.from({length:29},((e,t)=>(t+1).toString())):Array.from({length:28},((e,t)=>(t+1).toString())):e<=7?e%2==0?Array.from({length:30},((e,t)=>(t+1).toString())):Array.from({length:31},((e,t)=>(t+1).toString())):e%2==0?Array.from({length:31},((e,t)=>(t+1).toString())):Array.from({length:30},((e,t)=>(t+1).toString()))}));return(e,t)=>(r(),u("div",{class:"main-box",ref_key:"inputGroup",ref:b},[s("div",Y,[s("p",{class:"title",ref_key:"title",ref:S},n(i(g).title),513),o(q,{"onUpdate:choice":t[0]||(t[0]=e=>_("year",e)),class:"selecter",values:Array.from({length:200},((e,t)=>(t+1900).toString())),choice:i(g).value.getFullYear().toString()},null,8,["values","choice"]),G,o(q,{"onUpdate:choice":t[1]||(t[1]=e=>_("mounth",e)),class:"selecter",values:Array.from({length:12},((e,t)=>(t+1).toString())),choice:(i(g).value.getMonth()+1).toString()},null,8,["values","choice"]),M,o(q,{"onUpdate:choice":t[2]||(t[2]=e=>_("date",e)),class:"selecter",values:i(x),choice:i(g).value.getDate().toString()},null,8,["values","choice"]),P]),o(d,{name:"reminder"},{default:p((()=>[v(s("p",W,[Z,m(n(i(g).reminder[i(h)-1]),1)],512),[[c,0!=i(h)]])])),_:1})],512))}},[["__scopeId","data-v-1dc51ba5"]]),E=e=>(f("data-v-0f5654e9"),e=e(),g(),e),H={class:"main"},T=E((()=>s("h1",{class:"title"},"注册",-1))),B=E((()=>s("div",{class:"bottom-button"},[s("p",null,"忘记密码"),s("p",null,[s("a",{href:"/login/"},"登录")])],-1)));A(e({__name:"App",setup(e){let a=t(""),l=t(""),n=t(""),p=h(new Date(1970,0,1)),d=t("保密"),v=t(""),c=t(null),m=t(null);function f(){a.value?l.value?x(a.value,l.value).then((e=>{!0===e&&(location.href=I("from","/")),S("账号或密码错误")})):S("请输入密码",(function(){m.value.input.focus()})):S("请输入账号",(function(){c.value.input.focus()}))}return(e,t)=>(r(),u(b,null,[o(w,{title:"注册",jump:"/user/"}),s("div",H,[T,o(U,{ref_key:"usernameInput",ref:c,class:"input-box",type:"text",title:"用户名",value:i(a),"onUpdate:value":t[0]||(t[0]=e=>_(a)?a.value=e.target.value:a=e.target.value),reminder:["用户名必须是2-32个非空白字符"],tester:e=>/^\S{2,32}$/.test(e)?0:1},null,8,["value","tester"]),o(U,{ref:"emailInput",class:"input-box",type:"email",title:"邮箱",value:i(v),"onUpdate:value":t[1]||(t[1]=e=>_(v)?v.value=e.target.value:v=e.target.value),reminder:["邮箱格式不正确"],tester:e=>/^[\w.%+-]+@(?:[^/\\\.&\?\#]+\.)+[^/\\\.&\?\#]+$/.test(e)?0:1},null,8,["value","tester"]),o(U,{ref_key:"passwordInput",ref:m,class:"input-box",type:"password",title:"密码",value:i(l),"onUpdate:value":t[2]||(t[2]=e=>_(l)?l.value=e.target.value:l=e.target.value),reminder:["密码太短","密码太长","密码需要包含数字","密码需要包含字母","密码不能包含特殊字符"],tester:e=>e.length<6?1:e.length>32?2:/^(?=.*[0-9]).{6,32}$/.test(e)?/^(?=.*[a-zA-Z]).{6,32}$/.test(e)?/^[a-zA-Z0-9]{6,32}$/.test(e)?0:5:4:3},null,8,["value","tester"]),o(U,{ref_key:"passwordInput",ref:m,class:"input-box",type:"password",title:"确认密码",value:i(n),"onUpdate:value":t[3]||(t[3]=e=>_(n)?n.value=e.target.value:n=e.target.value),reminder:["密码不匹配"],tester:e=>e===i(l)?0:1},null,8,["value","tester"]),o(C,{"onUpdate:date":t[4]||(t[4]=e=>_(p)?p.value=e:p=e),style:{"z-index":"1"},value:i(p),class:"input-box",title:"出生日期",reminder:["出生日期应在当前日期之前"],tester:e=>e>new Date?1:0},null,8,["value","tester"]),o(j,{"onUpdate:value":t[5]||(t[5]=e=>_(d)?d.value=e:d=e),style:{"z-index":"0"},value:i(d),class:"input-box",title:"性别"},null,8,["value"]),o(k,{value:"下一步",onClick:f}),B])],64))}},[["__scopeId","data-v-0f5654e9"]])).mount("#app");
