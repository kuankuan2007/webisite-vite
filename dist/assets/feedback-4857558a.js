import{_ as e,o as l,r as a,a as t,b as s,d as u,e as r,F as i,f as n,g as d,w as o,h as c,u as p,t as f,n as h,i as v,p as m,j as b,k as y,l as g}from"./all-d7abee55.js";import{d as w,m as _}from"./normal-da3573ed.js";const G=e({__name:"waterfallFlow",props:{valueList:{type:Array,default:[],required:!0},eleWidth:{type:Number,default:0,required:!0},rowGap:{type:Number,default:10,required:!1},columnGap:{type:Number,default:10,required:!1},debounceDelay:{type:Number,default:300,required:!1}},setup(e){const n=e;let d=w((function(){if(null===c.value)return;const e=c.value;let l=e.children;if(0===l.length)return;const a=e.clientWidth,t=Math.min(l.length,Math.max(1,Math.floor(a/(n.eleWidth+n.columnGap))));t<=1&&(n.columnGap=0);const s=Array(t).fill(0),u=(a-t*n.eleWidth-(t-1)*n.columnGap)/2;for(let r=0;r<l.length;r++){const e=l[r];e.style.width=`${n.eleWidth}px`;let a=1/0,t=0;for(let l=0;l<s.length;l++)s[l]<a&&(a=s[l],t=l);e.style.top=`${a}px`,e.style.left=`${u+t*(n.eleWidth+n.columnGap)}px`,s[t]+=e.clientHeight+n.rowGap}e.style.height=Math.max(...s)-n.rowGap+"px"}),n.debounceDelay);l((()=>{o.observe(c.value,{childList:!0,subtree:!0}),p.value.contentWindow.addEventListener("resize",(()=>{d()}),!1)}));let o=new MutationObserver(d),c=a(null),p=a(null);return(l,a)=>(t(),s(i,null,[u("div",{class:"watterfall",ref_key:"watterfall",ref:c},[r(l.$slots,"default",{valueList:e.valueList},void 0,!0)],512),u("iframe",{class:"size-tester",ref_key:"sizeTester",ref:p},null,512)],64))}},[["__scopeId","data-v-7e83f0e3"]]),W={class:"list"},k=(e=>(m("data-v-92bedd64"),e=e(),b(),e))((()=>u("a",{class:"add",href:"/feedback/new/"},[u("span",{class:"demo-icon"},""),y("新建")],-1))),L=["href"],x={class:"item-padding"},M={class:"time"},q={class:"user"},$=e({__name:"feedbackList",setup(e){let l=n([]),r=a(!0),m=a("");function b(){r.value=!1,m.value="加载中";let e=l.length,a=e+40;v(e,a).then((t=>{if(!r.value){if(null===t)return showMessage("无法获取更多的反馈"),void(r.value=!1);t.length<a-e+1?(r.value=!1,m.value="暂时没有更多啦"):(r.value=!0,m.value="更多"),e+=t.length,a+=t.length;for(var s=0;s<t.length;s++)l.push(t[s])}}))}return b(),(e,a)=>(t(),s("div",W,[k,d(G,{eleWidth:300,"value-list":p(l),class:"watterfall"},{default:o((({valueList:e})=>[(t(!0),s(i,null,c(e,(e=>(t(),s("a",{href:`/feedback/data/?id=${e.id}`,class:"item"},[u("div",x,[u("h2",null,f(e.title),1),u("p",M,f(e.time),1),u("p",q,f(e.user),1),u("p",{class:h(["statue",e.statue])},f(e.statue),3)])],8,L)))),256))])),_:1},8,["value-list"]),u("p",{class:h({disabled:!p(r),more:!0}),onClick:b},f(p(m)),3)]))}},[["__scopeId","data-v-92bedd64"]]);g({__name:"App",setup:e=>(e,l)=>(t(),s(i,null,[d(_,{title:"宽宽2007·反馈"}),d($)],64))}).mount("#app");
