import{i as e}from"./text-797cab90.js";import{_ as a,r as t,a as s,b as l,h as r,u as i,e as o,X as u,C as n,Y as d,p as v,k as c,n as p,t as f,Z as g,$ as h}from"./all-7358aab5.js";const w={class:"input-group",ref:"inputGroup"},m={class:"code-box"},_={class:"code-click"},k=["src"],b=[(e=>(v("data-v-b032d12d"),e=e(),c(),e))((()=>o("p",null,"点击刷新",-1)))],y=a({__name:"imageCode",props:{title:{type:String,default:"验证码",required:!1},disabled:{type:Boolean,required:!1,default:!1}},setup(a,{expose:v}){const c=a;let p=t(""),f=t(""),g=t(null);function h(){u().then((e=>{f.value=e}),(e=>{}))}function y(e){p.value=e.target.value}return h(),v({check:async function(){if(-1==g.value.wrong)throw void n("请填写图片验证码");if(0!=g.value.wrong)throw void n(g.value.reminder[g.value.wrong-1]);if(!(await d(p.value)))throw void 0},refresh:h}),(a,t)=>(s(),l("div",w,[r(e,{value:i(p),"onUpdate:value":y,title:i(c).title,reminder:["图片验证码应是四位字母/数字"],tester:e=>/^[a-z0-9]{4}$/.test(e)?0:1,ref_key:"inputer",ref:g},null,8,["value","title","tester"]),o("div",m,[o("div",_,[o("img",{class:"img",src:i(f)},null,8,k),o("div",{class:"refresh",onClick:h},b)])])],512))}},[["__scopeId","data-v-b032d12d"]]),x={class:"input-group",ref:"inputGroup"},C={class:"code-box"},q={class:"code-click"},$=a({__name:"emailCode",props:{title:{type:String,default:"验证码",required:!1},disabled:{type:Boolean,required:!1,default:!1}},setup(a,{expose:u}){const n=a;let d=t(""),v=t(0),c=t(null);function w(e){e<0?v.value=0:(v.value=e,setTimeout(w,1e3,e-1))}function m(){g().then((()=>{w(60)}),(e=>{}))}function _(e){d.value=e.target.value}return m(),u({check:async function(){if(-1==c.value.wrong)throw void showMessage("请填写邮箱验证码");if(0!=c.value.wrong)throw void showMessage(c.value.reminder[c.value.wrong-1]);if(!(await h(d.value)))throw void 0},refresh:m}),(a,t)=>(s(),l("div",x,[r(e,{value:i(d),"onUpdate:value":_,title:i(n).title,reminder:["图片验证码应是6位数字"],tester:e=>/^[0-9]{6}$/.test(e)?0:1,ref_key:"inputer",ref:c},null,8,["value","title","tester"]),o("div",C,[o("div",q,[o("div",{class:p(["refresh",{disabled:i(v)>0}]),onClick:m},[o("p",null,f(i(v)>0?`${i(v)}s`:"重新发送"),1)],2)])])],512))}},[["__scopeId","data-v-e0da4650"]]);export{$ as a,y as i};
