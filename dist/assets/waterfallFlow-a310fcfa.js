import{_ as e,a as t,I as l,o as a,b as r,X as s,J as u,e as n,F as i,N as o,Y as d,u as p,d as f}from"./all-f2977786.js";const c=e({__name:"sizeTester",emits:["resize"],setup(e,{emit:s}){let u=t();return l((()=>{u.value.contentWindow.addEventListener("resize",(()=>{s("resize")}),!1)})),(e,t)=>(a(),r("iframe",{class:"size-tester",ref_key:"sizeTester",ref:u},null,512))}},[["__scopeId","data-v-fb53e033"]]),h=e({__name:"waterfallFlow",props:{valueList:{type:Array,default:[],required:!0},eleWidth:{type:Number,default:0,required:!0},rowGap:{type:Number,default:10,required:!1},columnGap:{type:Number,default:10,required:!1},debounceDelay:{type:Number,default:300,required:!1}},setup(e){const h=e;let m=s((function(){if(null===y.value)return;const e=y.value;let t=e.children;if(0===t.length)return;const l=e.clientWidth,a=Math.min(t.length,Math.max(1,Math.floor(l/(h.eleWidth+h.columnGap))));a<=1&&(h.columnGap=0);const r=Array(a).fill(0),s=(l-a*h.eleWidth-(a-1)*h.columnGap)/2;for(let u=0;u<t.length;u++){const e=t[u];let l=1/0,a=0;for(let t=0;t<r.length;t++)r[t]<l&&(l=r[t],a=t);e.style.top=`${l}px`,e.style.left=`${s+a*(h.eleWidth+h.columnGap)}px`,r[a]+=e.clientHeight+h.rowGap}e.style.height=Math.max(...r)-h.rowGap+20+"px"}),h.debounceDelay);u((()=>{h.valueList,m()}));let y=t(null);return l((()=>{u((()=>{y.value.style.setProperty("--width",`${h.eleWidth}px`)}))})),(e,t)=>(a(),r(i,null,[n("div",{class:"watterfall",ref_key:"watterfall",ref:y},[(a(!0),r(i,null,o(p(h).valueList,((t,l)=>d(e.$slots,"default",{data:t,key:l},void 0,!0))),128))],512),f(c,{onResize:p(m)},null,8,["onResize"])],64))}},[["__scopeId","data-v-43f223b1"]]);export{h as w};
